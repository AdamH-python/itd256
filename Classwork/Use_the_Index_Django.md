# Using Django to learn about Indexes

## Using a Standard Index

A Standard index in Django is used to make sql databases more efficient to query, for text columns its often used to find an exact match in the text, such as shown below for finding who is solely a cook at a restaurant, and not anything more.

### Django Query
Employee.objects.filter(occupation = "'Cook'").values_list("occupation")

### SQL Query
SELECT "db_employee"."id", "db_employee"."employee_name", "db_employee"."store_id", "db_employee"."occupation" FROM "db_employee" WHERE "db_employee"."occupation" = '''Cook''' LIMIT 21;

## Using a LIKE Index

A like index in Django is used to find all entries that follow a pattern or contain something specific. An example of this is finding all the jobs or text that starts with C.

### Django Query
Employee.objects.filter(occupation__startswith = "C").values_list("occupation")

### SQL Query
SELECT "db_employee"."id", "db_employee"."employee_name", "db_employee"."store_id", "db_employee"."occupation" FROM "db_employee" WHERE "db_employee"."occupation"::text LIKE 'C%' LIMIT 21;

## using __iexact

adding __iexact will make sure that anything found is exactly like the value you wanted, which often times results in a sequential scan, and bypasses the index. This causes a drastic increase in the time taken to run a query, getting exponentially slower with more data. This is really bad, especially when compared to runtimes when using an index, which stay practically constant even with extremely large datasets.

### Runtimes with different amounts of data

<img src="/Users/1010947/Desktop/itd256/Other/Runtimes.png" alt="The image did not load">

## Takeaways

If you want to locate an exact value in a table, you can use __iexact. This is, however, extremely inefficient as it forces the query to use a sequential scan and becomes extremely slow with more data.

If you use an index, you can use two types, standard indexes and like indexes. Standard indexes are often used to query and find a specific text, an exact match. Like indexes can be used to speed up querying text to see if it contains specific data within it, but can have more than that. This index must be generated by the user and handles special characters better than a standard index.